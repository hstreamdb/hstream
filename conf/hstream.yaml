# Configuration File for HStreamDB

# Configuration for HStream Server
hserver:
  # The identifier of a single HServer node,
  # the value must be given and can be overwritten by cli option `--server-id`
  id: 1

  # Server listen address value, the value must be given and shouldn't be
  # "0.0.0.0", if you intend to start a cluster or trying to connect to the
  # server from a different network.
  #
  # This value can be overwritten by cli option `--address`
  address: "0.0.0.0"

  # Server port value, the value must be given and can be overwritten by cli
  # option `--port`
  port: 6570

  # Server port value for internal communications between server nodes,
  # the value must be given and can be overwritten by cli option `--internal-port`
  internal-port: 6571

  # The server nodes in the same cluster shares a zookeeper server, this is
  # essential for a server to start.
  #
  # Comma separated host:port pairs, each corresponding to a zk zookeeper server.
  # e.g. 127.0.0.1:2181,127.0.0.1:2182,127.0.0.1:2183
  # the value must be given and can be overwritten by cli option `--zkuri`
  zkuri: "127.0.0.1:2181"

  # The option which compression should the server use when writing record to store,
  # which can be one of "none", "lz4", "lz4hc" or "zstd:1"(the next number "1" is for
  # zstd_level, you can also choose other level)
  #
  # Optional, If not given, then the default value is "lz4"
  #
  #compression: "lz4"

  # The max record payload size the hstream server would accept. The value only indicates that the server would not
  # reject the value, but has no guarantee that a record smaller than the specified value will be written successfully.
  # Optional; If not specified, the default value will be 1MB
  #
  #max-record-size: 1048576 # 1024*1024

  # The options used to control logs print by the server node, the following values
  # are the default values if the options is not specified. Also the default value will
  # be overwritten by cli flag `--log-with-color` and option `--log-level`
  # Optional, the default value will be true
  #
  #log-with-color: true

  # Optional, the default value will be info
  #
  #log-level: info

  # TLS options
  # Enable tls, which requires tls-key-path and tls-cert-path options
  #
  #enable-tls: true

  # Key file path for tls, can be generated by openssl
  #
  #tls-key-path: /path/to/the/server.key.pem

  # The signed certificate by CA for the key(tls-key-path)
  #
  #tls-cert-path: /path/to/the/signed.server.cert.pem

  # Optional for tls, if tls-ca-path is not empty, then enable TLS authentication,
  # in handshake phase, server will request and verify client's certificate.
  #
  #tls-ca-path: /path/to/the/ca.cert.pem

# Configuration for HStream Store
# The configuration for hstore is **Optional**. When the values are not provided,
# hstreamdb will use the following configuration as the default configuration.
hstore:
  #log-level: info

  # Store admin section specify the client config when connecting to the storage admin server
  #
  #store-admin:
    #host: "127.0.0.1"
    #port: 6440
    #protocol-id: binary
    #conn-timeout: 5000
    #send-timeout: 5000
    #recv-timeout: 5000
